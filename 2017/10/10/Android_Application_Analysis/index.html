<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="不知道描述啥"><title>Application 全面解析 | Sing</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Application 全面解析</h1><a id="logo" href="/.">Sing</a><p class="description">笔记</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa undefined"> 首页</i></a><a href="/django"><i class="fa undefined"> Django</i></a><a href="/html_css"><i class="fa undefined"> Html_css</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Application 全面解析</h1><div class="post-meta">Oct 10, 2017<span> | </span><span class="category"><a href="/categories/Android/">Android</a></span></div><div class="post-content"><h3 id="原文地址"><a href="#原文地址" class="headerlink" title="原文地址"></a><a href="http://www.jianshu.com/p/f665366b2a47" target="_blank" rel="noopener">原文地址</a></h3><h3 id="一、定义"><a href="#一、定义" class="headerlink" title="一、定义"></a>一、定义</h3><ul>
<li>代表应用程序（即 Android App）的类，也属于Android中的一个系统组件</li>
<li>继承关系：继承自 ContextWarpper 类<br>　java.lang.Object<br>　↳ android.content.Context<br>　↳ android.content.ContextWrapper<br>　↳ android.app.Application</li>
</ul>
<h3 id="二、特点"><a href="#二、特点" class="headerlink" title="二、特点"></a>二、特点</h3><h4 id="2-1-实例创建方式：单例模式"><a href="#2-1-实例创建方式：单例模式" class="headerlink" title="2.1 实例创建方式：单例模式"></a>2.1 实例创建方式：单例模式</h4><ul>
<li>每个<code>Android App</code>运行时，会首先自动创建<code>Application</code>类并实例化，且只有一个，即单例模式</li>
<li>也可通过 继承<code>Application</code>类自定义<code>Application</code>类和实例</li>
</ul>
<h4 id="2-2-实例形式：全局实例"><a href="#2-2-实例形式：全局实例" class="headerlink" title="2.2 实例形式：全局实例"></a>2.2 实例形式：全局实例</h4><p>即不同的组件（如<code>Activity</code>、<code>Service</code>）都可获得<code>Application</code>对象且都是同一个对象。</p>
<h4 id="2-3-生命周期：等于-Android-App-的生命周期"><a href="#2-3-生命周期：等于-Android-App-的生命周期" class="headerlink" title="2.3 生命周期：等于 Android App 的生命周期"></a>2.3 生命周期：等于 Android App 的生命周期</h4><p><code>Application</code>对象的生命周期是整个程序中最长的，即等于<code>Android App</code>的生命周期</p>
<h3 id="三、方法介绍"><a href="#三、方法介绍" class="headerlink" title="三、方法介绍"></a>三、方法介绍</h3><p>　　1）onCreate()<br>　　2）registerComponentCallbacks() &amp; unregisterComponentCallbacks()<br>　　3）onTrimMemory()<br>　　4）onLowMemory()<br>　　5）onConfigurationChanged()<br>　　6）registerActivityLifecycleCallbacks() &amp; unregisterActivityLifecycleCallbacks()<br>　　7）onTerminate()</p>
<h4 id="3-1-onCreate"><a href="#3-1-onCreate" class="headerlink" title="3.1 onCreate()"></a>3.1 onCreate()</h4><ul>
<li>调用时刻：<br>Application 实例创建时调用，Android系统的入口是Application类的 onCreate（），默认为空实现</li>
<li>作用：<br>1、初始化应用程序级别的资源，如全局对象、环境配置变量、图片资源初始化、推送服务的注册等。<br>　 <strong>注：</strong>不要执行耗时操作，否则会拖慢应用程序启动速度。<br>2、数据共享、数据缓存，如全局共享变量、方法等<br>　 <strong>注：</strong>这些共享数据只在应用程序的生命周期内有效，当该应用程序被杀死，这些数据也会被清空。</li>
<li>具体使用：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 复写方法需要在Application子类里实现</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String VALUE = <span class="string">"Carson"</span>;</span><br><span class="line"><span class="comment">// 初始化全局变量</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>.onCreate();</span><br><span class="line">    VALUE = <span class="string">"hello"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-2-registerComponentCallbacks-amp-unregisterComponentCallbacks"><a href="#3-2-registerComponentCallbacks-amp-unregisterComponentCallbacks" class="headerlink" title="3.2 registerComponentCallbacks() &amp; unregisterComponentCallbacks()"></a>3.2 registerComponentCallbacks() &amp; unregisterComponentCallbacks()</h4><ul>
<li>作用：<br>注册和注销<code>ComponentCallbacks2</code>回调接口，本质上是复写<code>ComponentCallbacks2</code>回调接口里的方法从而实现更多的操作，具体下面会详细介绍</li>
<li>具体使用：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">registerComponentCallbacks(<span class="keyword">new</span> ComponentCallbacks2() &#123;</span><br><span class="line">    <span class="comment">// 接口里方法下面会继续介绍</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onTrimMemory</span><span class="params">(<span class="keyword">int</span> level)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onLowMemory</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onConfigurationChanged</span><span class="params">(Configuration newConfig)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="3-3-onTrimMemory"><a href="#3-3-onTrimMemory" class="headerlink" title="3.3 onTrimMemory()"></a>3.3 onTrimMemory()</h4><ul>
<li>作用：<br>通知应用程序当前内存使用情况（以内存级别进行识别），Android 4.0 后提供的一个API。<br><img src="http://oupjofqw3.bkt.clouddn.com/android_application_analysis_0001.png" alt=""></li>
<li>应用场景：<br>根据当前内存使用情况进行自身的内存资源的不同程度释放，以避免被系统直接杀掉 &amp; 优化应用程序的性能体验。<ul>
<li>常驻内存的应用<ul>
<li>如Launcher、电话等</li>
<li>用户使用过要退出时，调用OnTrimMemory及时释放用户使用时所产生的多余的内存资源，如动态生成的View、图片缓存等</li>
</ul>
</li>
<li>后台Service运行的应用<ul>
<li>如音乐、下载等</li>
<li>用户退出UI界面后，后台任务还在继续，此时应该调用OnTrimMemory释放部分UI资源</li>
</ul>
</li>
</ul>
</li>
<li>具体使用</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">registerComponentCallbacks(<span class="keyword">new</span> ComponentCallbacks2() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onTrimMemory</span><span class="params">(<span class="keyword">int</span> level)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onTrimMemory(level);</span><br><span class="line">        <span class="comment">// Android系统会根据当前内存使用的情况，传入对应的级别</span></span><br><span class="line">        <span class="comment">// 以清除缓存为例:</span></span><br><span class="line">        <span class="keyword">if</span> (level &gt;= ComponentCallbacks2.TRIM_MEMORY_MODERATE) &#123;</span><br><span class="line">            mPendingRequests.clear();</span><br><span class="line">            mBitmapHolderCache.evictAll();</span><br><span class="line">            mBitmapCache.evictAll();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>可回调对象 &amp; 对应方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Application.onTrimMemory()</span><br><span class="line">Activity.onTrimMemory()</span><br><span class="line">Fragment.OnTrimMemory()</span><br><span class="line">Service.onTrimMemory()</span><br><span class="line">ContentProvider.OnTrimMemory()</span><br></pre></td></tr></table></figure>
<p><strong>onTrimMemory()中TRIM_MEMORY_UI_HIDDEN与Activity的onStop()的区别：</strong><br>　　前者回调时刻：应用程序中的所有UI组件全部不可见时<br>　　后者回调时刻：当一个Activity完全不可见的时候<br>　　使用建议：<br>　　　　1、在后者中释放与 Activity相关的资源，如取消网络连接或者注销广播接收器等<br>　　　　2、在前者中释放与UI相关的资源，从而保证在使用过程中UI相关的资源不需要重新加载<br>　　　　注：前者等级是在后者之前调用的</p>
<h4 id="3-4-onLowMemory"><a href="#3-4-onLowMemory" class="headerlink" title="3.4 onLowMemory()"></a>3.4 onLowMemory()</h4><ul>
<li>作用：<br>监听Android系统整体内存较低时刻</li>
<li>调用时刻：<br>Android系统整体内存较低时</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">registerComponentCallbacks(<span class="keyword">new</span> ComponentCallbacks2() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onLowMemory</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>应用场景：<br>Android 4.0前 检测内存使用情况，从而避免被系统直接杀掉 &amp; 优化应用程序的性能体验，类似于 OnTrimMemory()<br><strong>OnTrimMemory() 和 OnLowMemory() 的关系</strong><br>　　1.OnTrimMemory()是 OnLowMemory() Android 4.0后的替代 API<br>　　2.OnLowMemory() =  OnTrimMemory()中的TRIM_MEMORY_COMPLETE级别<br>　　3.若想兼容Android 4.0前，请使用OnLowMemory()；否则直接使用OnTrimMemory()即可</li>
</ul>
<h4 id="3-5-onConfigurationChanged"><a href="#3-5-onConfigurationChanged" class="headerlink" title="3.5 onConfigurationChanged()"></a>3.5 onConfigurationChanged()</h4><ul>
<li>作用：<br>监听 应用程序 配置信息的改变，如屏幕旋转等</li>
<li>调用时刻：<br>应用程序配置信息 改变时调用</li>
<li>具体使用</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">registerComponentCallbacks(<span class="keyword">new</span> ComponentCallbacks2() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onConfigurationChanged</span><span class="params">(Configuration newConfig)</span> </span>&#123;</span><br><span class="line">      ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>该配置信息是指：<br>Manifest.xml文件下的 Activity标签属性android:configChanges的值，如下：</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">activity</span> </span></span><br><span class="line"><span class="tag">	<span class="attr">android:name</span>=<span class="string">".MainActivity"</span></span></span><br><span class="line"><span class="tag">	<span class="attr">android:configChanges</span>=<span class="string">"keyboardHidden|orientation|screenSize"</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 设置该配置属性会使 Activity在配置改变时（屏幕旋转）不重启，只执行onConfigurationChanged() --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="3-6-registerActivityLifecycleCallbacks-amp-unregisterActivityLifecycleCallbacks"><a href="#3-6-registerActivityLifecycleCallbacks-amp-unregisterActivityLifecycleCallbacks" class="headerlink" title="3.6 registerActivityLifecycleCallbacks() &amp; unregisterActivityLifecycleCallbacks()"></a>3.6 registerActivityLifecycleCallbacks() &amp; unregisterActivityLifecycleCallbacks()</h4><ul>
<li>作用：<br>注册 / 注销对应用程序内所有Activity的生命周期监听</li>
<li>调用时刻：<br>当应用程序内Activity生命周期发生变化时,实际上是调用registerActivityLifecycleCallbacks()里ActivityLifecycleCallbacks接口里的方法</li>
<li>具体使用：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">registerActivityLifecycleCallbacks(<span class="keyword">new</span> ActivityLifecycleCallbacks() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onActivityCreated</span><span class="params">(Activity activity, Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        Log.d(<span class="string">"test"</span>,<span class="string">"onActivityCreated: "</span> + activity.getLocalClassName());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onActivityStarted</span><span class="params">(Activity activity)</span> </span>&#123;</span><br><span class="line">        Log.d(<span class="string">"test"</span>,<span class="string">"onActivityStarted: "</span> + activity.getLocalClassName());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onActivityResumed</span><span class="params">(Activity activity)</span> </span>&#123;</span><br><span class="line">        Log.d(<span class="string">"test"</span>,<span class="string">"onActivityResumed: "</span> + activity.getLocalClassName());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onActivityPaused</span><span class="params">(Activity activity)</span> </span>&#123;</span><br><span class="line">        Log.d(<span class="string">"test"</span>,<span class="string">"onActivityPaused: "</span> + activity.getLocalClassName());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onActivityStopped</span><span class="params">(Activity activity)</span> </span>&#123;</span><br><span class="line">        Log.d(<span class="string">"test"</span>, <span class="string">"onActivityStopped: "</span> + activity.getLocalClassName());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onActivitySaveInstanceState</span><span class="params">(Activity activity, Bundle outState)</span> </span>&#123;</span><br><span class="line">        Log.d(<span class="string">"test"</span>,<span class="string">"onActivitySaveInstanceState: "</span> + activity.getLocalClassName());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onActivityDestroyed</span><span class="params">(Activity activity)</span> </span>&#123;</span><br><span class="line">        Log.d(<span class="string">"test"</span>,<span class="string">"onActivityDestroyed: "</span> + activity.getLocalClassName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 测试：把应用程序从前台切到后台再打开，看Activcity的变化</span></span><br><span class="line">onActivityPaused: MainActivity</span><br><span class="line">onActivityStopped: MainActivity</span><br><span class="line">onActivityStarted: MainActivity</span><br><span class="line">onActivityResumed: MainActivity</span><br></pre></td></tr></table></figure>
<h4 id="3-7-onTerminate"><a href="#3-7-onTerminate" class="headerlink" title="3.7 onTerminate()"></a>3.7 onTerminate()</h4><ul>
<li>调用时刻：<br>应用程序结束时调用，但该方法只用于Android仿真机测试，在Android产品机是不会调用的</li>
</ul>
<h3 id="四、应用场景"><a href="#四、应用场景" class="headerlink" title="四、应用场景"></a>四、应用场景</h3><p>从Applicaiton类的方法可以看出，Applicaiton类的应用场景有：（已按优先级排序）</p>
<ul>
<li>初始化 应用程序级别 的资源，如全局对象、环境配置变量等</li>
<li>数据共享、数据缓存，如设置全局共享变量、方法等</li>
<li>获取应用程序当前的内存使用情况，及时释放资源，从而避免被系统杀死</li>
<li>监听 应用程序 配置信息的改变，如屏幕旋转等</li>
<li>监听应用程序内 所有Activity的生命周期</li>
</ul>
<h3 id="五、具体使用"><a href="#五、具体使用" class="headerlink" title="五、具体使用"></a>五、具体使用</h3><p>若需要复写实现上述方法，则需要自定义 Application类，具体过程如下</p>
<h4 id="步骤1：新建Application子类，继承-Application-类"><a href="#步骤1：新建Application子类，继承-Application-类" class="headerlink" title="步骤1：新建Application子类，继承 Application 类"></a>步骤1：新建Application子类，继承 Application 类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CarsonApplication</span> <span class="keyword">extends</span> <span class="title">Application</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// 根据自身需求，并结合上述介绍的方法进行方法复写实现</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 以onCreate()为例</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String VALUE = <span class="string">"Carson"</span>;</span><br><span class="line">    <span class="comment">// 初始化全局变量</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate();</span><br><span class="line">        VALUE = <span class="string">"hello"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="步骤2：配置自定义的Application子类"><a href="#步骤2：配置自定义的Application子类" class="headerlink" title="步骤2：配置自定义的Application子类"></a>步骤2：配置自定义的Application子类</h4><p>在Manifest.xml文件中 <application>标签里进行配置</application></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">application</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:name</span>=<span class="string">".CarsonApplication"</span></span></span><br><span class="line"><span class="tag">    // 此处自定义<span class="attr">Application</span>子类的名字 = <span class="string">CarsonApplication</span>  </span></span><br><span class="line">&lt;/application&gt;</span><br></pre></td></tr></table></figure>
<h4 id="步骤3：使用自定义的Application类实例"><a href="#步骤3：使用自定义的Application类实例" class="headerlink" title="步骤3：使用自定义的Application类实例"></a>步骤3：使用自定义的Application类实例</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> CarsonApplicaiton app;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 只需要调用Activity.getApplication() 或Context.getApplicationContext() 就可以获得一个Application对象</span></span><br><span class="line">app = (CarsonApplication) getApplication();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 然后再得到相应的成员变量 或方法 即可</span></span><br><span class="line">Log.d(<span class="string">"test"</span>,app.VALUE);</span><br></pre></td></tr></table></figure>
<p>至此，关于 Applicaiton 类已经讲解完毕。</p>
<h3 id="六、总结"><a href="#六、总结" class="headerlink" title="六、总结"></a>六、总结</h3><p><img src="http://oupjofqw3.bkt.clouddn.com/android_application_analysis_0002.png" alt=""></p>
</div><div class="tags"></div><div class="post-nav"><a class="pre" href="/2017/10/13/MySql-17_indexes/">MySql_17 MySQL中的索引</a><a class="next" href="/2017/09/30/Android_Glide_Basice/">Glide基础入门</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JAVA/">JAVA</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MySql/">MySql</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/教程/">教程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/">设计模式</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/03/19/Android_CountDownTimer/">CountDownTimer的使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/05/Android_decompile/">Android 反编译</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/01/Android_dialog_shadow/">Android 使用Dialog时状态栏变黑的问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/21/Python_Django_simple_server/">基于 Python 的简单服务</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/21/Android_about_image/">Android 图片相关操作</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/16/DesignPattern_01_Principle/">《设计模式》走向灵活软件之路--面向对象的六大原则</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/13/MySql-17_indexes/">MySql_17 MySQL中的索引</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/10/Android_Application_Analysis/">Application 全面解析</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/30/Android_Glide_Basice/">Glide基础入门</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/29/MySql-16_function_library/">MySql_16 MySQL中的数学函数库</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a rel="nofollow" target="_blank" href="http://www.miitbeian.gov.cn/">京ICP备17062560号</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>